<%- include('../layoutes/header') %>

<h3></h3>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="\public\assets\css\otp.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
  <!-- <div class="d-flex justify-content-center align-items-center container">
    <div class="card py-5 px-3">
        <h5 class="m-0">Mobile phone verification</h5><span class="mobile-text">Enter the code we just send on your mobile phone <b class="text-danger">+91 86684833</b></span>
        <div class="d-flex flex-row mt-5"><input type="text" class="form-control" autofocus=""><input type="text" class="form-control"><input type="text" class="form-control"><input type="text" class="form-control"></div>
        <div class="text-center mt-5"><span class="d-block mobile-text">Don't receive the code?</span><span class="font-weight-bold text-danger cursor">Resend</span></div>
    </div> -->
    <section class="container-fluid bg-body-tertiary d-block">
  <div class="row justify-content-center">
      <div class="col-12 col-md-6 col-lg-4" style="min-width: 500px;">
        <div class="card bg-white mb-5 mt-5 border-0" style="box-shadow: 0 12px 15px rgba(0, 0, 0, 0.02);">
          <div class="card-body p-5 text-center">
            <h4>Verify</h4>
            <p>Your code was sent to you via email</p>

            <!-- <div class="otp-field mb-4">
              <input type="number" />
              <input type="number"  />
              <input type="number"  />
              <input type="number"  />
              
            </div> -->
            <form action="/otp-page" method="post">
              <div id='inputs' class="otp-field mb-4" >
                <input name="otp" id='input1' type='text' maxLength="1" />
                <input name="otp" id='input2' type='text' maxLength="1" />
                <input name="otp" id='input3' type='text' maxLength="1" />
                <input name="otp" id='input4' type='text' maxLength="1" />
              </div>
              <input type="hidden" name="fullOTP" id="fullOTP" />
        
              <input class="btn btn-primary mt-3" value="Verify" type="submit">
            
            
              <a href="/" class="btn btn-dark mt-3">Resend OTP</a>
            </form>

            <% if (typeof errorMessage !== 'undefined') { %>
              <p style="color: rgb(200, 3, 3);">
                  <%= errorMessage %>
              </p>
            <% } %>

           

            <p class="resend text-muted mb-0">
              Didn't receive code? <a href="">Request again</a>
            </p>
          </div>
        </div>
      </div>
    </div>
</section>
</div>
</body>
</html>



<script>
    // Get references to the OTP input fields and the hidden field
    const inputFields = document.querySelectorAll('input[name="otp"]');
    const fullOTPField = document.getElementById('fullOTP');
  
    // Add an event listener to each OTP input field
    inputFields.forEach((input, index) => {
      input.addEventListener('input', (event) => {
        // Update the hidden field with the combined value of all OTP input fields
        let fullOTP = '';
        inputFields.forEach((field) => {
          fullOTP += field.value;
        });
        fullOTPField.value = fullOTP;
      });
    });
  </script>


  <%- include('../layoutes/footer.ejs') %>